"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Markdown = void 0;
const fs_1 = require("fs");
const path_1 = require("path");
const file_1 = require("../../io/file");
const mdvdom_1 = require("../../loader/core/mdvdom");
const context_1 = require("../../transform/context");
/** renders Markdown as a VDOM */
const Markdown = (props) => {
    // local file referenced; use it
    if (props.src && (0, fs_1.existsSync)(props.src)) {
        (0, context_1.addFileDependency)((0, path_1.resolve)(props.src), Vanil.props.context);
        return (0, mdvdom_1.markdownToVdom)((0, file_1.readFileSyncUtf8)(props.src), Vanil.props.context);
    }
    // content set as children; use that (should be wrapped in {`# markdown _content_`})
    if (props.children && props.children[0]) {
        return (0, mdvdom_1.markdownToVdom)(props.children[0], Vanil.props.context);
    }
    return Vanil.tsx(Vanil.tsx, null);
};
exports.Markdown = Markdown;
Vanil.Markdown = exports.Markdown;
