"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
Vanil.subscribers = [];
/** subscribe to a specific topic on the bus; returns index */
Vanil.listen = (topic, handler) => Vanil.subscribers.push({
    topic,
    handler,
}) - 1;
/** unsubscribe by index */
Vanil.mute = (subscriberIndex) => (Vanil.subscribers[subscriberIndex] = undefined);
/** publish/broadcast an event object on a topic to all listeners */
Vanil.emit = (topic, event) => {
    for (let i = 0; i < Vanil.subscribers.length; i++) {
        if (Vanil.subscribers[i] && Vanil.subscribers[i].topic === topic) {
            Vanil.subscribers[i].handler(event);
        }
    }
};
