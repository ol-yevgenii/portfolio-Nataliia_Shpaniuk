"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getMatchingLoader = exports.getLoaderList = exports.isLoaderRegistered = void 0;
/** checks if a specific loader is registered */
const isLoaderRegistered = (loaderName, context) => !!Object.keys(context.loaderMap).find((candidate) => candidate === loaderName);
exports.isLoaderRegistered = isLoaderRegistered;
/** returns the loaderMap as a list for quick lookup */
const getLoaderList = (context) => {
    const loaderNames = Object.keys(context.loaderMap);
    const loaders = [];
    loaderNames.forEach((loaderName) => loaders.push(context.loaderMap[loaderName]));
    return loaders;
};
exports.getLoaderList = getLoaderList;
/** selects a specific loader if required by the user.
 * alternatively, an automatic file extension matching happens */
const getMatchingLoader = (context, fetchPath, loaderName) => {
    const loaders = (0, exports.getLoaderList)(context);
    return loaderName
        ? context.loaderMap[loaderName]
        : loaders.filter((loaderRegistration) => loaderRegistration.match ? loaderRegistration.match.test(fetchPath) : false)[0];
};
exports.getMatchingLoader = getMatchingLoader;
